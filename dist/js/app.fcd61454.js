(function(t){function e(e){for(var s,o,n=e[0],i=e[1],c=e[2],p=0,u=[];p<n.length;p++)o=n[p],Object.prototype.hasOwnProperty.call(l,o)&&l[o]&&u.push(l[o][0]),l[o]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);m&&m(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var i=a[n];0!==l[i]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},l={app:0},r=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],i=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var m=i;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"keep"}},[a("v-app-bar",{attrs:{app:"","clipped-left":"",color:"amber"}},[a("v-app-bar-nav-icon",{on:{click:function(e){t.proposals=!t.proposals}}}),a("span",{staticClass:"title ml-3 mr-5"},[t._v("My first Project "),a("span",{staticClass:"font-weight-light"},[t._v("Relativiz")])]),a("v-text-field",{attrs:{"solo-inverted":"",flat:"","hide-details":"",label:"Search","prepend-inner-icon":"search"}}),a("v-spacer")],1),a("v-navigation-drawer",{attrs:{app:"",clipped:"",color:"grey lighten-4"},model:{value:t.proposals,callback:function(e){t.proposals=e},expression:"proposals"}},[a("v-list",{staticClass:"grey lighten-4",attrs:{dense:""}},[t._l(t.items,(function(e,s){return[e.heading?a("v-row",{key:s,attrs:{align:"center"}},[a("v-col",{attrs:{cols:"6"}},[e.heading?a("v-subheader",[t._v(" "+t._s(e.heading)+" ")]):t._e()],1),a("v-col",{staticClass:"text-right",attrs:{cols:"6"}},[a("v-btn",{attrs:{small:"",text:""}},[t._v("edit")])],1)],1):e.divider?a("v-divider",{key:s,staticClass:"my-4",attrs:{dark:""}}):a("v-list-item",{key:s,attrs:{link:""}},[a("v-list-item-action",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text"},[a("router-link",{attrs:{to:e.link},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v(t._s(e.text))])],1)],1)],1)]}))],2)],1),a("v-content",[a("v-container",{staticClass:"grey lighten-4 fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",{staticClass:"grow"},[a("router-view")],1)],1)],1)],1),a("v-footer",[a("v-spacer"),a("div",[t._v("© Mebdesign "+t._s((new Date).getFullYear()))])],1)],1)],1)},r=[],o={props:{source:String,link:String},data:function(){return{proposals:{t_firstname:"",t_lastname:"",t_email:"",e_firstname:"",e_lastname:"",e_email:"",body:""},drawer:null,items:[{icon:"lightbulb_outline",text:"Logout",link:"/logout"},{icon:"touch_app",text:"Login",link:"/login"},{divider:!0},{heading:"Labels"},{icon:"add",text:"Create new Proposal",link:"/proposals/new"},{divider:!0},{icon:"archive",text:"Archive - All proposals",link:"/proposals/"},{icon:"delete",text:"Trash",link:"/trash"},{divider:!0},{icon:"settings",text:"Settings",link:"/settings"},{icon:"chat_bubble",text:"Trash",link:"/trash"},{icon:"help",text:"Help",link:"/help"},{icon:"phonelink",text:"App downloads",link:"/downloads"},{icon:"keyboard",text:"Keyboard shortcuts",link:"/keyboard"}]}}},n=o,i=a("2877"),c=Object(i["a"])(n,l,r,!1,null,null,null),m=c.exports,p=a("8c4f"),u=a("ce5b"),d=a.n(u);a("bf40");s["default"].use(d.a);var v,f,_={},h=new d.a(_),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},g=[],x={},y=x,w=Object(i["a"])(y,b,g,!1,null,null,null),k=w.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isEditing?a("div",[a("v-form",{attrs:{id:"formProposalUpdate"},on:{submit:function(e){return e.preventDefault(),t.updateProposal(e)}}},[a("v-container",[a("h2",[t._v(t._s(t.title))]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{placeholder:t.proposals[0].t_firstname,label:"Prénom de l'emetteur",required:""},model:{value:t.t_firstname,callback:function(e){t.t_firstname=e},expression:"t_firstname"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{placeholder:t.proposals[0].t_lastname,label:"Nom de l'emetteur",required:""},model:{value:t.t_lastname,callback:function(e){t.t_lastname=e},expression:"t_lastname"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{placeholder:t.proposals[0].t_email,label:"email de l'emetteur",required:""},model:{value:t.t_email,callback:function(e){t.t_email=e},expression:"t_email"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{placeholder:t.proposals[0].e_firstname,label:"Prénom du destinataire",required:""},model:{value:t.e_firstname,callback:function(e){t.e_firstname=e},expression:"e_firstname"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{placeholder:t.proposals[0].e_lastname,label:"Nom du destinataire",required:""},model:{value:t.e_lastname,callback:function(e){t.e_lastname=e},expression:"e_lastname"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{placeholder:t.proposals[0].e_email,label:"Email du destinataire",required:""},model:{value:t.e_email,callback:function(e){t.e_email=e},expression:"e_email"}})],1)],1),a("v-row",[a("v-col",[a("v-textarea",{attrs:{placeholder:t.proposals[0].body,label:"Saisissez votre texte ici...",type:"text",name:"body"},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}})],1)],1)],1),a("v-btn",{attrs:{type:"submit",text:"",small:"",form:"formProposalUpdate"}},[t._v("Mettre à jour")])],1)],1):a("div",[a("v-form",{attrs:{id:"formProposalCreate"},on:{submit:function(e){return e.preventDefault(),t.addProposal(e)}}},[a("v-container",[a("h2",[t._v(t._s(t.title))]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Prénom de l'emetteur",required:""},model:{value:t.t_firstname,callback:function(e){t.t_firstname=e},expression:"t_firstname"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Nom de l'emetteur",required:""},model:{value:t.t_lastname,callback:function(e){t.t_lastname=e},expression:"t_lastname"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"email de l'emetteur",required:""},model:{value:t.t_email,callback:function(e){t.t_email=e},expression:"t_email"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Prénom du destinataire",required:""},model:{value:t.e_firstname,callback:function(e){t.e_firstname=e},expression:"e_firstname"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Nom du destinataire",required:""},model:{value:t.e_lastname,callback:function(e){t.e_lastname=e},expression:"e_lastname"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Email du destinataire",required:""},model:{value:t.e_email,callback:function(e){t.e_email=e},expression:"e_email"}})],1)],1),a("v-row",[a("v-col",[a("v-textarea",{attrs:{label:"Saisissez votre texte ici...",type:"text",name:"body"},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}})],1)],1)],1),a("v-btn",{attrs:{type:"submit",text:"",small:"",form:"formProposalCreate"}},[t._v("Créer")])],1)],1)},j=[],C=a("bc3a"),S=a.n(C),O={name:"FormProposalComponent",data:function(){return{title:"Création de propale",proposals:[{}],t_firstname:"",t_lastname:"",t_email:"",e_firstname:"",e_lastname:"",e_email:"",body:"",error:""}},props:{isEditing:{type:Boolean}},methods:{addProposal:function(){var t=this;console.log(t),S.a.post("http://localhost:3000/proposals/",{t_firstname:this.t_firstname,t_lastname:this.t_lastname,t_email:this.t_email,e_firstname:this.e_firstname,e_lastname:this.e_lastname,e_email:this.e_email,body:this.body}).then((function(e){t.proposals=e.data})).catch((function(e){t.proposals=e})),this.$router.push("/proposals")},getProposal:function(){var t=this;S.a.get("http://localhost:3000/proposals/".concat(this.$route.params.id)).then((function(e){return t.proposals=e.data.proposal}))},updateProposal:function(){var t=this;console.log(t),S.a.put("http://localhost:3000/proposals/".concat(this.$route.params.id),{t_firstname:t.t_firstname,t_lastname:t.t_lastname,t_email:t.t_email,e_firstname:t.e_firstname,e_lastname:t.e_lastname,e_email:t.e_email,body:t.body}).then((function(e){t.proposals=e.data})).catch((function(e){t.proposals=e})),this.$router.push("/proposals")}},mounted:function(){!0===this.isEditing&&(this.getProposal(),this.title="Edition de propale")}},E=O,$=Object(i["a"])(E,P,j,!1,null,"f6a5112c",null),q=$.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("All proposals")]),t._l(t.proposals,(function(e,s){return a("div",{key:e.id,attrs:{index:s}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"70%",outlined:""}},[a("h3",[t._v(" "+t._s(e.t_firstname)+" "),a("small",[a("span",[t._v(t._s(e.t_lastname))])])]),a("v-btn",{attrs:{text:"",small:"",to:"/proposals/"+e.id}},[t._v("Détail")]),t._v(" "),a("v-btn",{attrs:{text:"",small:"",to:"/proposals/"+e.id+"/edit"}},[t._v("Modifier")]),t._v(" "),a("v-btn",{attrs:{text:"",small:"",color:"error",href:"#"},on:{click:function(a){return t.remove(s,e.id)}}},[t._v("Delete")])],1),a("br")],1)}))],2)},z=[],D=(a("a434"),{name:"ProposalComponent",data:function(){return{proposals:{t_firstname:"",t_lastname:"",t_email:"",e_firstname:"",e_lastname:"",e_email:"",body:""},error:""}},mounted:function(){var t=this;S.a.get("http://localhost:3000/proposals/").then((function(e){return t.proposals=e.data.proposal}))},methods:{remove:function(t,e){S.a.delete("http://localhost:3000/proposals/".concat(e)).then(this.proposals.splice(t,1))}}}),N=D,R=Object(i["a"])(N,M,z,!1,null,null,null),T=R.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.proposals,(function(e){return a("div",{key:e.id},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"70%",outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"overline mb-4"},[t._v("Proposition commerciale ")]),a("v-list-item-title",{staticClass:"headline mb-1"},[t._v(t._s(e.t_firstname)+" "+t._s(e.t_lastname))]),a("v-list-item-subtitle",[t._v(t._s(e.t_email))]),a("v-list-item-subtitle",[t._v(t._s(e.e_firstname))]),a("v-list-item-subtitle",[t._v(t._s(e.e_lastname))]),a("v-list-item-subtitle",[t._v(t._s(e.e_email))]),a("v-list-item-subtitle",[t._v(t._s(e.body))])],1),a("v-list-item-avatar",{attrs:{tile:"",size:"80",color:"grey"}})],1),a("v-card-actions",[a("v-btn",{attrs:{text:""}},[t._v("Export pdf")]),a("v-btn",{attrs:{text:""}},[t._v("Send by email")])],1)],1)],1)})),0)},L=[],A={name:"ProposalDetail",data:function(){return{proposals:{t_firstname:"",t_lastname:"",t_email:"",e_firstname:"",e_lastname:"",e_email:"",body:""},error:""}},mounted:function(){var t=this;S.a.get("http://localhost:3000/proposals/".concat(this.$route.params.id)).then((function(e){return t.proposals=e.data.proposal}))}},F=A,J=Object(i["a"])(F,I,L,!1,null,null,null),U=J.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v(t._s(t.pageTitle))]),a("v-form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:t.emailRules,label:"Saisissez votre email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{type:"password",rules:t.passwordRules,counter:10,label:"Mot de passe",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("button",[t._v("Submit")])],1)],1)],1)],1)},B=[],H=new s["default"],K=H,Y=K,G=Object(i["a"])(Y,v,f,!1,null,null,null),Q=G.exports,W={name:"LoginComponent",data:function(){return{pageTitle:"Connexion",valid:!0,password:"",passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length<=10||"Passwd must be less than 10 characters"}],email:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],select:null,items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1}},methods:{login:function(){var t=this;S.a.post("http://localhost:3000/users/login/",{email:this.email,password:this.password}).then((function(e){localStorage.setItem("usertoken",e.data),t.email="",t.password=""})).catch((function(t){console.log(t)})),this.emitMethod()},emitMethod:function(){Q.$emit("logged-in","loggedin"),this.router.push("http://localhost:3000/users/profile")},validate:function(){this.$refs.form.validate()&&(this.snackbar=!0)},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}}},X=W,Z=Object(i["a"])(X,V,B,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" fistname: "+t._s(t.first_name)+" "),a("br"),t._v(" lastname: "+t._s(t.last_name)+" "),a("br"),t._v(" email: "+t._s(t.email)+" "),a("br")])},at=[],st=a("04e1"),lt=a.n(st),rt={data:function(){var t=localStorage.usertoken,e=lt()(t);return{first_name:e.first_name,last_name:e.last_name,email:e.email}}},ot=rt,nt=Object(i["a"])(ot,et,at,!1,null,null,null),it=nt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[a("h1",[t._v("Register")]),a("label",{attrs:{for:"first_name"}},[t._v("first name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.first_name,expression:"first_name"}],attrs:{type:"text",placeholder:"Saisissez votre first name"},domProps:{value:t.first_name},on:{input:function(e){e.target.composing||(t.first_name=e.target.value)}}}),a("label",{attrs:{for:"last_name"}},[t._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.last_name,expression:"last_name"}],attrs:{type:"text",placeholder:"Saisissez votre last name"},domProps:{value:t.last_name},on:{input:function(e){e.target.composing||(t.last_name=e.target.value)}}}),a("label",{attrs:{for:"email"}},[t._v("email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",placeholder:"Saisissez votre email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("label",{attrs:{for:"password"}},[t._v("Passwd")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Saisissez votre pass"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("button",{attrs:{type:"submit"}},[t._v("Register")])])])},mt=[],pt={data:function(){return{first_name:"",last_name:"",email:"",password:""}},methods:{register:function(){var t=this;S.a.post("http://localhost:3000/users/register/",{first_name:this.first_name,last_name:this.last_name,email:this.email,password:this.password}).then((function(e){localStorage.setItem("usertoken",e.data),t.first_name="",t.last_name="",t.email="",t.password="",t.router.push("/login")})).catch((function(t){console.log(t)}))}}},ut=pt,dt=Object(i["a"])(ut,ct,mt,!1,null,null,null),vt=dt.exports;s["default"].use(p["a"]),s["default"].config.productionTip=!1;var ft=new p["a"]({mode:"history",routes:[{path:"",component:k,children:[{path:"login",name:"Login",component:tt},{path:"register",name:"Register",component:vt},{path:"profile",component:it},{path:"proposals",component:T},{path:"/proposals/new",component:q,props:{isEditing:!1}},{path:"/proposals/:id/",component:U},{path:"/proposals/:id/edit",component:q,props:{isEditing:!0}}]}]});e["default"]=ft;new s["default"]({vuetify:h,router:ft,render:function(t){return t(m)}}).$mount("#app")}});
//# sourceMappingURL=app.fcd61454.js.map